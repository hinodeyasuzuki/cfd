<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<title>室内空気の流れ計算（エアコン送風、サーキュレータ、断熱の効果）　解説</title>
		<link rel="stylesheet" href="" media="screen">
<style>
h1 {
	font-size:170%;
}
h2 {
	background-color:yellow;
}
p{
	line-height:1.5em;
	margin-left:10px;
}
p.margin{
	margin-left:30px;
}
</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-96438552-2', 'auto');
  ga('send', 'pageview');

</script>

	</head>
<body>
<h1>室内空気の流れ計算（エアコン送風、サーキュレータ、断熱の効果）　解説</h1>
<div align="right"><a href="index.php">[ソフトに戻る]</a>  (C)2015-2017 <a href="http://www.hinodeya-ecolife.com/">有限会社ひのでやエコライフ研究所</a> <br>
Ver1.0 2015/12/21<br>
Ver1.3 2016/2/4<br>
Ver1.4 2016/2/11<br>
Ver1.5 2016/2/15<br>
Ver1.6 2016/5/9<br>
Ver1.61 2016/7/12<br>
Ver1.62 2016/8/17<br>
Ver1.63 2016/10/25<br>
Ver1.64 2016/11/6<br>
Ver1.70 2017/1/4<br>
Ver1.71 2017/3/30<br>
Ver1.72 2017/4/20<br>
Ver1.73 2017/6/29<br>
Ver1.74 2017/6/30<br>
</div>

<h2>ソフトの概要</h2>
<p>　このソフトは、部屋の冷暖房時における空気の流れをシミュレートするために作成しました。暖房時に窓で冷やされた空気がどのように流れるのか（コールドドラフト）、それを衝立でどのように防げるのか、窓の断熱性能を上げることがどのように快適性につながるのか、エアコン送風の強さで部屋の暖まり方が違うのか、サーキュレータの効果は、など空気の流れをビジュアルで示すことで省エネ対策の効果を説明するものです。</p>
<p>　現在（Ver1.74 2017年6月30日版）では、直方体形状の部屋において、簡単なボタン設定で、部屋や窓の大きさ、断熱性能、風よけの大きさ、エアコンの送風、サーキュレータ設定などを変更してシミュレーションを実行できます。設定を詳細で比較したい場合には、パラメータを数値で設定して比較することもできます。このWEBソフトは無料で公開していますが、精度等についての保証はありません。</p>

<h2>画面の見方</h2>
<img src="./img/cfd-01.png" alt="シミュレーション画面" style="float:left">
<p>　画面左は、計算対象となる部屋の様子です。3つの平面が直角に交わった図が表示されますが、左面が窓のある外壁面、正面が窓のない外壁面、下が床面で、斜め上から見下ろした様子です。手前側にも壁がありますが、透明としています。初期状態で正面を向いている平面が、もう一枚、部屋の中央付近に表示されますが、気温や温度分布などをこの面で表示しているもので、前後に移動させることができます。</p>
<p>　色は温度を表示しています。暖房が効いている場合には赤やオレンジ、冷えた場合には青色となります。温度の凡例は左上に表示しています。</p>
<p>　風の向きと強さは計算を行う格子点ごとに矢印で表示されます。相対的な風速で矢印が表示されるため、凡例を参照してください。</p>
<p>　画面の右で操作ができます。条件を設定し、「計算」タブを選び、「計算実行」をすると、計算が始まります。シミュレーション内時間で1分ごとにデータが得られて、画面が更新されます。</p>

<h2 style="clear:both;">計算の解説</h2>
<p>　3次元でのCFD（Computational Fluid Dynamics 数値流体力学）の計算を行っています。フラクショナル・ステップ法ですが、精度が高いとされる3Dスタガード格子ではなく、障害物等の設置をモデル化しやすくするために3Dレギュラー格子とし、速度輸送方程式は一次の川上差分、粘性項は中央差分を用いています。レギュラー格子のため、長時間のシミュレーションを行っていると、チェーカーボード圧力場が生じることが確認できます。</p>
<p>　初期設定の格子は8×8×8程度の非常に粗い設定としています。比較的メッシュが小さいためコールドドラフトの60分経過相当のシミュレーション計算を、おおむね10秒以内に計算できます。エアコンやサーキュレータなど送風する場合、長時間相当のシミュレーションをする場合などは、より計算時間がかかりますが、通常のパソコンを使って計算の推移を確認することができます。さらに詳しく計算するためにメッシュを増やすことも可能ですが、メッシュ数に応じて急速に計算が遅くなりますので、パソコンの能力に応じて設定してください。計算単位時間は、クーラン数に応じて自動的に調整されるため、通常はエラーで止まることはありません。</p>

<h2>設定と計算</h2>
<p>　初期値が設定されているので、「計算開始」ボタンを押すと、シミュレーション内時間で1分ごとに結果がアウトプットされ、動画のように表示されます。初期状態は、室温18℃、屋外温度5℃、断熱がされていない部屋での、窓や壁からの冷気による空気の流れについて60分相当が、1分ごと表示されます。</p>
<p>　計算はWEBブラウザで行います。web worker の仕組みを使っているために、計算側と表示側を切り分けることができ、リアルタイムで計算の進行状況を表示できます。ただし、指定された時間の計算中は、計算を止めることはできません。もし「計算」ボタンを押してしまうと、終了後に連続して計算が始まります。この場合には、ブラウザ（タブ）を閉じて改めてアクセスしてください。</p>
<p>　部屋の大きさを変えたり、衝立、エアコン、サーキュレータを設定したり、窓や壁の断熱の程度を変更するなどして、計算をすることができます。</p>
<p>　モデリングについては、家屋の一部屋を想定し、直方体に固定しています。2面（正面と左面）が屋外に面しており、左面のみに窓を設置できます。エアコン・サーキュレータの位置は、固定です。簡素化していますが、そのために、設定変更が容易となり、比較がしやすくなっています。</p>


<h2>計算結果</h2>
<p>　結果の図は元のレイアウト設定と同じ簡易3Dで表示され、左側は窓面、正面は室内側の壁（手前・右も室内側という想定です）、下は平面図です。矢印は風の流れを示し、色は温度を示しています（凡例参照）。壁面や障害物についても、温度に応じた色がつけられています。それぞれ何層目の結果を表示しているのか、右の操作盤で変更することができます。</p>
<p>　左図は床面（もっとも床側に近いレイヤー）を、右図はセンターレイヤーを表示していますが、それぞれ上下、前後でレイヤーを移動させて表示させることができます。</p>
<p>　主な数値結果は、テキストエリアに一覧で表示することもできます。</p>
<p>　モデル化にあたって、実際の暖房と異なる点（省略した点）としては、室内の備品がないため熱容量が小さくすぐに暖まる、室内の熱発生を考慮していない、天井・床・外壁に接しない壁面は熱移動がない前提としている点などがあります。</p>

<h2>おすすめのシミュレーション結果確認</h2>
<h3>コールドドラフトの軽減</h3>
<p class="margin">　初期状態でスタートを押すと、左窓から冷気が流れ落ち、部屋全体が冷えていく様子が見られます。窓や壁の断熱性能を高める、もしくは窓のサイズを変更することで、床面の最低温度、最大風速がどのように違いが出るか比較できます。</p>
<img src="./img/cfd-cd01.png" alt="コールドドラフト結果">
<img src="./img/cfd-cd02.png" alt="断熱性能が高い場合">
<p>　6畳、初期室温18℃、外気温5℃、小窓、60分後。左：壁無断熱・シングルガラス、右：複層ガラス、100mmグラスウール相当断熱。</p>

<h3>窓下のパネルヒータの効果</h3>
<p class="margin">　パネルヒータを設定すると、窓からの風を止め、室内側を暖かく保つことができます。こうしたヒータは、窓側に設置するほうが快適です。</p>
<img src="./img/cfd-cd04.png" alt="ついたてを窓際に設置した場合">
<img src="./img/cfd-cd05.png" alt="パネルヒータを窓際に設置した場合">
<p>　上記条件。左：ついたてを窓際に設置、右：パネルヒータ（表面40℃）設置。</p>

<h3>エアコンの強風と弱風</h3>
<p class="margin">　部屋の面積は8畳から12畳がおすすめです。強で暖房すると風が床全面を伝って部屋全体を暖めていきますが、弱で暖房すると、床まで届かなかったり、部屋の中央で上昇気流を生じたりして、特に部屋の反対側が寒いままの状態が長く続きます。ただし、床の最大風速をみると、0.5m/sを超えており、強風があまり快適でない様子も伺えます。自動運転（暖まったら弱風にする）設定だと、暖まった状態で風速もかなり抑えられます。</p>
<img src="./img/cfd-ac01.png" alt="エアコン弱風">
<img src="./img/cfd-ac03.png" alt="エアコン強風">
<p>　15畳、初期10℃、外気温5℃、90×200cm窓、右壁に出力2.8kWエアコン、20分後。左：弱風、右：強風。</p>

<h3>エアコンとサーキュレータの併用</h3>
<p class="margin">　弱風の暖房でも、部屋の反対側にサーキュレータを上向きで設置すると、部屋全体を循環する風がうまれることがあります。床の風速も、かなり抑えることができながら、部屋全体を効率的に暖めることができます。ただし、一定の風速がないと、風が分断されて効果が薄い場合もあります。</p>
<img src="./img/cfd-ac02.png" alt="サーキュレータ併用">
<p>　条件同上。エアコンは弱風とし、左窓下にサーキュレータを上向きに設置。</p>


<h2>改良履歴</h2>

<p>Ver1.3 2016年2月4日版</p>
<ul>
<li>簡易3D画面の結果表示
<li>簡易3D画面で、窓と衝立をマウスで設定
</ul>

<p>Ver1.4 2016年2月11日版</p>
<ul>
<li>エアコンの設定ができるように変更
<li>境界条件の見直し
</ul>

<p>Ver1.5 2016年2月15日版</p>
<ul>
<li>表示を温度を背景にして、矢印を速度だけに変更して見やすくした
<li>部屋サイズを変更した場合の、簡易3Dがずれないように設定（窓・障害物対応はまだ）
<li>窓・外壁の断熱性能を設定できるようにした
</ul>

<p>Ver1.6 2016年5月9日版</p>
<ul>
<li>シナリオ設定ボタンを用意して、簡易に比較ができるようにした
<li>部屋サイズを、6畳間から12畳間まで現実のサイズで設定できるようにした
</ul>

<p>Ver1.61 2016年7月12日版</p>
<ul>
<li>シナリオ設定をわかりやすく分類
<li>IEで動作していなかった問題の修正（IE,Firefox,Chromeで動作確認）
</ul>

<p>Ver1.62 2016年8月17日版</p>
<ul>
<li>ボタン設定を整理して比較しやすくした
<li>サーキュレータの追加
<li>エアコンの自動運転の追加
<li>表示面に、タイトルと何層目かを表示
</ul>

<p>Ver1.63 2016年10月25日版</p>
<ul>
<li>外気温の設定ボタンを用意した
<li>サーキュレータ使用時の温度変化がおかしかった点を修正
</ul>

<p>Ver1.64 2016年11月6日版</p>
<ul>
<li>サーキュレータ仕様時に温度変化が小さすぎた点の再修正
</ul>

<p>Ver1.70 2017年1月4日版</p>
<ul>
<li>結果画面のレイヤー移動を、画面の動きに反映させた
<li>ついたて、窓の位置変更について表示を止めた
<li>操作メニューを整理して、タブ画面で変更できるようにした
<li>温度を結果の上部に表示するように変更した
</ul>

<p>Ver1.71 2017年3月30日版</p>
<ul>
<li>横幅がやや狭い画面でも表示できるようにした
<li>ソースコードの整理
</ul>

<p>Ver1.72 2017年4月20日版</p>
<ul>
<li>窓とエアコンを画面上に表示させるようにした
<li>正面の窓を追加した
</ul>

<p>Ver1.73 2017年6月28日版</p>
<ul>
<li>部屋デザインと、結果画面を切り替えて表示する機能を整理した
<li>サーキュレータを使うと温度低下が小さい問題の修正（空気比重を考慮していないバグ）
</ul>

<p>Ver1.74 2017年6月30日版</p>
<ul>
<li>圧力-加速度換算で比重を設定していなかった
<li>壁面からの熱流入で計算セルのサイズを考慮していなかった
</ul>

<hr>
<a href="index.php">[ソフトに戻る]</a>
